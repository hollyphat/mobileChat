<template>
  <div class="page" data-name="settings">
  <div class="navbar">
    <div class="navbar-inner sliding">
      <div class="left">
        <a href="" class="link back">
          <i class="icon icon-back"></i>
          <span class="ios-only">Back</span>
        </a>
      </div>
      <div class="title">Settings</div>
    </div>
  </div>
  <div class="page-content">
    <div class="block block-strong">
      
      <div class="block-title">Choose Color Theme</div>
        <div class="block">
          
          <div class="row">
          {{#each colors}}
            <div class="col-33">
              <button class="button button-fill button-round button-raised color-{{this}}" @click="setColorTheme('{{this}}')">{{this}}</button>
            </div>
          {{/each}}
            <div class="col-33"></div>
          </div>
        </div>
    </div>
  </div>
</div>
</template>
<style scoped>
  .button {
    margin-bottom: 1em;
    text-transform: capitalize;
  }
</style>
<script>
    return {        
        on: {
            pageInit: function() {
                var app = this.$app;
                var $$ = this.$;                
                var router = this.$router;        
                var user_id = sessionStorage.getItem("user_id");
                if((user_id === "") || (user_id === null)){
                    
                    mainView.router.navigate('/login/');
                }

                /*$(".user-img").attr("src",server_upload_url+""+app_path+"users/thumb/"+sessionStorage.getItem("image"));
                $(".user-name").html(sessionStorage.getItem("username"));
                $(".user-status").html(sessionStorage.getItem("bio"));*/
            }
        },
        data: function () {   
            var colors = [
              'red',
              'green',
              'blue',
              'pink',
              'yellow',
              'orange',
              'gray',
              'black',
            ];
     
            return {
                colors: colors,
                colorsAmount: colors.length,
                user_name: sessionStorage.getItem("name"),
                email: sessionStorage.getItem("email"),
                phone: sessionStorage.getItem("phone"),
                gender: sessionStorage.getItem("gender"),
                bio: sessionStorage.getItem("bio"),                
                username: sessionStorage.getItem("username"),
                image: server_upload_url+""+app_path+"users/thumb/"+sessionStorage.getItem("image")
            }
        },

        methods: {
        setColorTheme: function (color) {          
          var self = this;
          var app = self.$app;
          localStorage.setItem("color_scheme",color);
          updateColor();          
        },
      }
        
    }
</script>